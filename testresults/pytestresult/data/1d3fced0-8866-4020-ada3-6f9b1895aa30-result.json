{"name": "test_get_intent", "status": "broken", "statusDetails": {"message": "ValueError: multiclass format is not supported", "trace": "self = <test_get_intent.TestIntent object at 0x000002CE8474DE10>\n\n    @pytest.mark.intenttest\n    @allure.feature(\"意图识别\")\n    def test_get_intent(self):\n>       GetIntent.get_intent(self, \"意图识别.csv\", \"test2.xls\")\n\napi\\test_get_intent.py:19: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\api\\get_intent.py:48: in get_intent\n    Binary.binary_plot_curve(exp_intent_list, re_intent_list)\n..\\algorithm\\algorithm_func.py:44: in binary_plot_curve\n    re_auc, fpr, tpr = Binary.get_auc(truth_value, prob_value)\n..\\algorithm\\algorithm_func.py:18: in get_auc\n    fpr, tpr, threshold = metrics.roc_curve(truth_value, prob_value)\nE:\\Python3.7.3\\lib\\site-packages\\sklearn\\metrics\\_ranking.py:771: in roc_curve\n    y_true, y_score, pos_label=pos_label, sample_weight=sample_weight)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ny_true = ['无', '咨询专家', '咨询价格', '咨询价格', '咨询QQ', '咨询微信', ...]\ny_score = ['描述就诊史', '咨询专家', '咨询价格', '咨询价格', '咨询QQ', '咨询微信', ...]\npos_label = None, sample_weight = None\n\n    def _binary_clf_curve(y_true, y_score, pos_label=None, sample_weight=None):\n        \"\"\"Calculate true and false positives per binary classification threshold.\n    \n        Parameters\n        ----------\n        y_true : array, shape = [n_samples]\n            True targets of binary classification\n    \n        y_score : array, shape = [n_samples]\n            Estimated probabilities or decision function\n    \n        pos_label : int or str, default=None\n            The label of the positive class\n    \n        sample_weight : array-like of shape (n_samples,), default=None\n            Sample weights.\n    \n        Returns\n        -------\n        fps : array, shape = [n_thresholds]\n            A count of false positives, at index i being the number of negative\n            samples assigned a score >= thresholds[i]. The total number of\n            negative samples is equal to fps[-1] (thus true negatives are given by\n            fps[-1] - fps).\n    \n        tps : array, shape = [n_thresholds <= len(np.unique(y_score))]\n            An increasing count of true positives, at index i being the number\n            of positive samples assigned a score >= thresholds[i]. The total\n            number of positive samples is equal to tps[-1] (thus false negatives\n            are given by tps[-1] - tps).\n    \n        thresholds : array, shape = [n_thresholds]\n            Decreasing score values.\n        \"\"\"\n        # Check to make sure y_true is valid\n        y_type = type_of_target(y_true)\n        if not (y_type == \"binary\" or\n                (y_type == \"multiclass\" and pos_label is not None)):\n>           raise ValueError(\"{0} format is not supported\".format(y_type))\nE           ValueError: multiclass format is not supported\n\nE:\\Python3.7.3\\lib\\site-packages\\sklearn\\metrics\\_ranking.py:536: ValueError"}, "start": 1585730351025, "stop": 1585730692259, "uuid": "27b4ceca-a25b-4767-b198-4fdd3e0d4012", "historyId": "b1529bad6a92ce205fc8bd501601388c", "testCaseId": "2025fa088db4cb63358f5826b2be96e0", "fullName": "pytest.api.test_get_intent.TestIntent#test_get_intent", "labels": [{"name": "feature", "value": "意图识别"}, {"name": "tag", "value": "intenttest"}, {"name": "parentSuite", "value": "pytest.api"}, {"name": "suite", "value": "test_get_intent"}, {"name": "subSuite", "value": "TestIntent"}, {"name": "host", "value": "WIN-OQ20V7UABJF"}, {"name": "thread", "value": "25248-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "pytest.api.test_get_intent"}]}