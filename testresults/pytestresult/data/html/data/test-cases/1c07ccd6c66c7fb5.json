{
  "uid" : "1c07ccd6c66c7fb5",
  "name" : "test_get_symtom",
  "fullName" : "pytest.api.test_get_symptom.TestSymptom#test_get_symtom",
  "historyId" : "7b46c8037517edd24c97eef896a047a2",
  "time" : {
    "start" : 1585726972256,
    "stop" : 1585727085037,
    "duration" : 112781
  },
  "status" : "broken",
  "statusMessage" : "ValueError: multiclass format is not supported",
  "statusTrace" : "self = <test_get_symptom.TestSymptom object at 0x0000020FBDFEEB38>\n\n    @pytest.mark.apitest\n    @allure.feature(\"症状归一化\")\n    def test_get_symtom(self):\n>       GetSymptom.get_symtom(self, \"口语-标准症状映射.json\", \"test3.xls\")\n\napi\\test_get_symptom.py:19: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\api\\get_symptom.py:45: in get_symtom\n    Binary.binary_plot_curve(value_list, result_value_list)\n..\\algorithm\\algorithm_func.py:44: in binary_plot_curve\n    re_auc, fpr, tpr = Binary.get_auc(truth_value, prob_value)\n..\\algorithm\\algorithm_func.py:18: in get_auc\n    fpr, tpr, threshold = metrics.roc_curve(truth_value, prob_value)\nE:\\Python3.7.3\\lib\\site-packages\\sklearn\\metrics\\_ranking.py:771: in roc_curve\n    y_true, y_score, pos_label=pos_label, sample_weight=sample_weight)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ny_true = [['龟头有红点'], ['龟头有红点'], ['龟头有红点'], ['龟头有红点'], ['龟头有红点'], ['龟头有红点'], ...]\ny_score = ['龟头有红点', '龟头有红点', '龟头有红点', '龟头有红点', '龟头有红点', '龟头有红点', ...]\npos_label = None, sample_weight = None\n\n    def _binary_clf_curve(y_true, y_score, pos_label=None, sample_weight=None):\n        \"\"\"Calculate true and false positives per binary classification threshold.\n    \n        Parameters\n        ----------\n        y_true : array, shape = [n_samples]\n            True targets of binary classification\n    \n        y_score : array, shape = [n_samples]\n            Estimated probabilities or decision function\n    \n        pos_label : int or str, default=None\n            The label of the positive class\n    \n        sample_weight : array-like of shape (n_samples,), default=None\n            Sample weights.\n    \n        Returns\n        -------\n        fps : array, shape = [n_thresholds]\n            A count of false positives, at index i being the number of negative\n            samples assigned a score >= thresholds[i]. The total number of\n            negative samples is equal to fps[-1] (thus true negatives are given by\n            fps[-1] - fps).\n    \n        tps : array, shape = [n_thresholds <= len(np.unique(y_score))]\n            An increasing count of true positives, at index i being the number\n            of positive samples assigned a score >= thresholds[i]. The total\n            number of positive samples is equal to tps[-1] (thus false negatives\n            are given by tps[-1] - tps).\n    \n        thresholds : array, shape = [n_thresholds]\n            Decreasing score values.\n        \"\"\"\n        # Check to make sure y_true is valid\n        y_type = type_of_target(y_true)\n        if not (y_type == \"binary\" or\n                (y_type == \"multiclass\" and pos_label is not None)):\n>           raise ValueError(\"{0} format is not supported\".format(y_type))\nE           ValueError: multiclass format is not supported\n\nE:\\Python3.7.3\\lib\\site-packages\\sklearn\\metrics\\_ranking.py:536: ValueError",
  "flaky" : false,
  "beforeStages" : [ ],
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "feature",
    "value" : "症状归一化"
  }, {
    "name" : "tag",
    "value" : "apitest"
  }, {
    "name" : "parentSuite",
    "value" : "pytest.api"
  }, {
    "name" : "suite",
    "value" : "test_get_symptom"
  }, {
    "name" : "subSuite",
    "value" : "TestSymptom"
  }, {
    "name" : "host",
    "value" : "WIN-OQ20V7UABJF"
  }, {
    "name" : "thread",
    "value" : "21528-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "pytest.api.test_get_symptom"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : true,
  "retry" : true,
  "extra" : {
    "categories" : [ ],
    "tags" : [ "apitest" ]
  },
  "source" : "1c07ccd6c66c7fb5.json",
  "parameterValues" : [ ]
}